<?xml version="1.0" encoding="UTF-8" ?>
<!--
Copyright (C) 2016 Apple Inc. All Rights Reserved.
See LICENSE.txt for this sampleâ€™s licensing information

-->
<document>
	<head id="menuBar">
	  <style>
	  @media tv-template and (tv-theme:light) {
      	.foo { color:rgb(0, 0, 0); tv-highlight-color:rgb(0, 0, 0);}
	  }
	  @media tv-template and (tv-theme:dark) {
      	.foo { color:rgb(255, 255, 255); tv-highlight-color:rgb(255,255,255);}
	  }
	</style>	
	</head>
		
		<stackTemplate title="Favorites" id="fav">
			{% if not favs %}			  
			  <banner style="margin: 300"><title class="foo">Favorite addons will be displayed here</title></banner>
		  {% endif %}
	  <collectionList>
		  <grid>		  
		  <section>
				{% for plugin in favs %}
				<lockup onholdselect="showSelectDialog('', ['Remove from favorites', 'Addon settings', 'Delete'], 0, function(ans) { if (typeof ans != 'undefined') { if (ans=='Remove from favorites') { removeFromFavourites('{{plugin.id}}'); load('{{url}}', true);} else if (ans=='Addon settings') {load('{{plugin.menuurl}}'); } else if (ans=='Delete') {removeAddon('{{plugin.id}}')}} })" onselect="load('/catalog/{{plugin.id | base64encode}}')">
					<img src="/{{plugin.icon}}" width="256" height="256"/>
				 	<title class="foo">{{plugin.name}}</title>				 					 	
				</lockup>
				{% endfor %}
			</section>
		  </grid>
	  </collectionList>
	</stackTemplate>
		
		<stackTemplate title="All" id="all">		
	  <collectionList>
		  <grid>
		  <section>
				{% for plugin in menu %}
				<lockup onholdselect="showSelectDialog('', ['Add to favorites', 'Addon settings', 'Delete'], 0, function(ans) { if (typeof ans != 'undefined') { if (ans=='Add to favorites') { addToFavourites('{{plugin.id}}'); load('{{url}}', true);} else if (ans=='Addon settings') {load('{{plugin.menuurl}}'); } else if (ans=='Delete') {removeAddon('{{plugin.id}}')}} })" onselect="load('/catalog/{{plugin.id | base64encode}}')">
					<img src="/{{plugin.icon}}" width="256" height="256"/>
				 	<title class="foo">{{plugin.name}}</title>				 					 	
				</lockup>
				{% endfor %}
			</section>
		  </grid>
	  </collectionList>
	</stackTemplate>
	
	<searchTemplate title="Add new" id="add">

        <searchField>Search</searchField>
		<separator></separator>
        

        <text id="message">No addons</text>
        <list id="suggestions">
            <section>
                <header>
                    <title>SUGGESTIONS</title>
                </header>
                <listItemLockup value="youtube">
                    <title><span><b>yo</b></span>tube</title>
                </listItemLockup>
                <listItemLockup value="exodus">
                    <title><span><b>exo</b></span>dus</title>
                </listItemLockup>
            </section>
        </list>
        <grid id="defaultResults">
            <header>
                <title>All Results</title>
            </header>
            <section>
	            {% for id, data in all.items() %}
              <lockup onselect="post('/installAddon', btoa('{{id}}'))" onholdselect="post('/getAddonData', btoa('{{id}}'))">
                <img src="{{data['icon']}}" width="308" height="308" />                
                <title class="showTextOnHighlight">{{data['name']}}</title>
              </lockup>
              {% endfor %}
            </section>
        </grid>

        <collectionList id="resultsList">
            <grid id="resultsGridContainer">
	            <section id="resultsSection">
                </section>
            </grid>
        </collectionList>

    </searchTemplate>
    
    <listTemplate title="Settings" id="settings">
	    <list style="width: 1000; padding:200">
	    <section>
		    <listItemLockup onselect="load('/repositories')">
			    <title>Repositories</title>
		    </listItemLockup>
		    <listItemLockup onselect="selectLanguage()">
			    <title>Language</title>
		    </listItemLockup>
		    <listItemLockup onselect="load('/viewLog')">
			    <title>View server logs</title>
		    </listItemLockup>
		    <listItemLockup onselect="restartServer()">
			    <title>Restart server</title>
		    </listItemLockup>		    
	    </section>
	    </list>
    </listTemplate>
  </document>
