<?xml version="1.0" encoding="UTF-8" ?>
<!--
Copyright (C) 2016 Apple Inc. All Rights Reserved.
See LICENSE.txt for this sampleâ€™s licensing information

-->
<document>
    <head id="menuBar">
        <style>
            @media tv-template and (tv-theme:light) {
            .foo { color:rgb(0, 0, 0); tv-highlight-color:rgb(0, 0, 0);}
            }
            @media tv-template and (tv-theme:dark) {
            .foo { color:rgb(255, 255, 255); tv-highlight-color:rgb(255,255,255);}
            }
        </style>
    </head>

    <stackTemplate title="Favorites" id="fav">
        {% if not favs %}
        <banner style="margin: 300">
            <title class="foo">Favorite addons will be displayed here</title>
        </banner>
        {% endif %}
        <collectionList>
            <grid>
                <section>
                    {% for plugin in favs %}
                    <lockup onholdselect="post('/getAddonData', '{{plugin.id | base64encode}}')" onselect="catalog('{{plugin.id | base64encode}}')">
                        <img src="/{{plugin.icon}}" width="256" height="256"/>
                        <title class="foo">{{plugin.name}}</title>
                    </lockup>
                    {% endfor %}
                </section>
            </grid>
        </collectionList>
    </stackTemplate>

    <stackTemplate title="All" id="all">
        {% if not menu %}
        <banner style="margin: 300">
            <title class="foo">Install addons in the "Settings" section</title>
        </banner>
        {% endif %}
        <collectionList>
            <grid>
                <section>
                    {% for plugin in menu %}
                    <lockup onholdselect="post('/getAddonData', '{{plugin.id | base64encode}}')" onselect="catalog('{{plugin.id | base64encode}}')">
                        <img src="/{{plugin.icon}}" width="256" height="256"/>
                        <title class="foo">{{plugin.name}}</title>
                    </lockup>
                    {% endfor %}
                </section>
            </grid>
        </collectionList>
    </stackTemplate>

    <catalogTemplate autoHighlight="true" title="Settings" id="settings">
        <list>
            <section>
                <listItemLockup autoHighlight="true">
                    <title style="tv-text-style:title3">Addons</title>
                    <relatedContent>
                        <list style="width: 1200">
                            <section>
                                <header><title>Search for new and exciting addons to install</title></header>
                                <listItemLockup onselect="load('/allAddons')">
                                    <title>View all</title>
                                    <subtitle>View all addons (uncategorized) with a search option</subtitle>
                                </listItemLockup>
                                <listItemLockup onselect="post('/browseAddons')">
                                    <title>View by type</title>
                                    <subtitle>View addons by category (i.e. Video, Audio, etc.). No search option</subtitle>
                                </listItemLockup>
                                <listItemLockup onselect="showInputDialog('Search', 'Search by name or id', 'Search', 'OK', false, function(ans) { if (typeof ans != 'undefined') { post('/browseAddons', ans) } })">
                                    <title>Search</title>
                                    <subtitle>Search for addon by name or id and show results by category</subtitle>
                                </listItemLockup>
                            </section>
                        </list>
                    </relatedContent>
                </listItemLockup>
            </section>
            <section>
                <listItemLockup>
                    <title style="tv-text-style:title3">Repositories</title>
                    <relatedContent>
                        <list style="width: 1200">
                            <section>
                                <header><title style="tv-text-max-lines:2">Browse addons by repository or add a new repository from file</title></header>
                                <listItemLockup onselect="load('/repositories')">
                                    <title>Browse</title>
                                </listItemLockup>
                                <listItemLockup onselect="load('/refreshRepositories')">
                                    <title>Refresh</title>
                                    <subtitle>Refresh data from all repositories. This may take a while</subtitle>
                                </listItemLockup>
                                <listItemLockup onselect="browse(null, '.*\.zip', function(xhr) {post('/addRepository', btoa(xhr.responseText))})">
					                <title>Add from zip file</title>
				                </listItemLockup>
                            </section>
                        </list>
                    </relatedContent>
                </listItemLockup>
            </section>
            <section>
                <listItemLockup>
                    <title style="tv-text-style:title3">Language</title>
                    <relatedContent>
                        <list style="width: 1000">
                            <section>
                                <header><title>Languages</title></header>
                                <listItemLockup style="height: 200" onselect="showSelectDialog('Select language', {{languages}}, {{languages}}.indexOf('{{current_language}}'), function(ans) { if (typeof ans != 'undefined') {localStorage.setItem('language', ans); notify('/setLanguage', btoa(ans)); event.target.children.item(1).textContent=ans;}});">
                                    <title>Addons language</title>
                                    <decorationLabel class="foo">{{current_language}}</decorationLabel>
                                    <subtitle style="tv-text-max-lines: 4">Modify the language used internally by addons to show menus and metadata. Support for this language is dependent on the addon itself</subtitle>
                                </listItemLockup>
                            </section>
                        </list>
                    </relatedContent>
                </listItemLockup>
            </section>
            <section>
                <listItemLockup>
                    <title style="tv-text-style:title3">Server maintenance</title>
                    <relatedContent>
                        <list style="width: 1000">
                            <section>
                                <header><title>Advanced server actions</title></header>
                                <listItemLockup style="height:200" onselect="toggleProxy(); if (event.target.children.item(1).textContent=='On') { event.target.children.item(1).textContent='Off' } else { event.target.children.item(1).textContent='On' };">
                                    <title>Toggle server proxy mode</title>
                                    <decorationLabel>{{proxy}}</decorationLabel>
                                    <subtitle style="tv-text-max-lines: 4">In proxy mode, all network activity (except playing media) will go through the server. This may hurt performance but can solve network access issues</subtitle>
                                </listItemLockup>
                                <listItemLockup onselect="load('/viewLog')">
                                    <title>View server log</title>
                                    <subtitle style="tv-text-max-lines: 2">View internal server log of all activity</subtitle>
                                </listItemLockup>
                                <listItemLockup onselect="notify('/clearLog')">
                                    <title>Clear server log</title>
                                    <subtitle>Clear the server log</subtitle>
                                </listItemLockup>
                                <listItemLockup style="height: 150" onselect="restartServer()">
                                    <title>Restart server</title>
                                    <subtitle style="tv-text-max-lines: 2">Restart the server process. Use this when unusual stuff happens</subtitle>
                                </listItemLockup>
                                <listItemLockup onselect="load('/checkForUpdate')">
                                    <title>Check for update</title>
                                    <subtitle>Check for update. No auto-update yet. Sorry</subtitle>
                                </listItemLockup>
                            </section>
                        </list>
                    </relatedContent>
                </listItemLockup>
            </section>
            <section>
                <listItemLockup>
                    <title style="tv-text-style:title3">About</title>
                    <relatedContent>
                        <list style="width:1000">
                            <section>
                                <listItemLockup>
                                    <title>Name</title>
                                    <decorationLabel>TVML Kodi server</decorationLabel>
                                </listItemLockup>
                                <listItemLockup>
                                    <title>Author</title>
                                    <decorationLabel>ggyeh</decorationLabel>
                                </listItemLockup>
                                <listItemLockup>
                                    <title>Website</title>
                                    <decorationLabel>https://github.com/ggyeh/TVML-Kodi-Addons</decorationLabel>
                                </listItemLockup>
                                <listItemLockup>
                                    <title>Version</title>
                                    <decorationLabel>{{version}}</decorationLabel>
                                </listItemLockup>
                            </section>
                        </list>
                    </relatedContent>
                </listItemLockup>
            </section>
        </list>
    </catalogTemplate>
</document>
